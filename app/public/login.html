<!DOCTYPE html>
<html>
<head>
  <title>登录</title>
</head>
<body>
  <div id="loginPanel">
    <input id="username" type="text" name="username" value="Daniel" />
    <input id="password" type="password" name="password" value="123"/>
    <button id="login">登录</button>
  </div>
</body>
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
  window.onload = function () {
    $('#login').click(function (){
      let username = $('#username').val()
      let password = $('#password').val()
      $.post('/login', {
        username: username,
        password: password
      }, (res) => {
        console.log(res)
        if (res && res.code == 2000) {
          alert('登录成功')
          $('#loginPanel').hide()
          $.getJSON('/user', {
            id : 1
          }, (res) => {
            console.log(res)
          })
        } else {
          alert(res.message)
        }
      }, 'json')
    })
  }
</script>
</html>